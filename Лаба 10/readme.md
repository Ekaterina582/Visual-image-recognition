# Лабораторная работа: Детекция лиц, глаз и улыбок с использованием каскадов Хаара

## Постановка задачи

Цель работы - разработать программу на C++ с использованием OpenCV, которая:
- Обнаруживает лица, глаза и улыбки на видео
- Визуализирует результаты обнаружения с помощью цветных прямоугольников
- Работает в реальном времени для видеофайлов

Исходные данные:
- Видеофайл `video.mp4`
- Каскады Хаара для обнаружения:
  - Лиц (`haarcascade_frontalface_default.xml`)
  - Глаз (`haarcascade_eye.xml`)
  - Улыбок (`haarcascade_smile.xml`)

## Выполнение работы

### 1. Подготовка данных
- Загрузка предобученных каскадов Хаара
- Инициализация видеозахвата из файла

### 2. Обработка кадров
Для каждого кадра видео выполняются следующие операции:
1. **Препроцессинг**:
   - Конвертация в градации серого
   - Выравнивание гистограммы
   - Размытие по Гауссу

2. **Детекция объектов**:
   - Обнаружение лиц (синие прямоугольники)
   - Для каждого найденного лица:
     - Обнаружение глаз (зелёные прямоугольники)
     - Обнаружение улыбок (красные прямоугольники)

3. **Визуализация**:
   - Отображение обработанного кадра с выделенными областями
   - Возможность досрочного завершения по нажатию клавиши

### Технические особенности
- Использование каскадных классификаторов
- Многоэтапная обработка изображения
- Параметризация детекторов (масштаб, минимальное количество соседей)
- Оптимизация для работы с видео в реальном времени

## Вывод

Программа успешно решает задачу обнаружения лицевых особенностей на видео. В ходе работы:

✅ Реализована загрузка и применение каскадов Хаара  
✅ Настроена обработка видео в реальном времени  
✅ Достигнута визуализация результатов с цветовой дифференциацией  
✅ Обеспечена стабильная работа детекторов  

Возможные улучшения:
- Добавление обработки веб-камеры в реальном времени
- Оптимизация параметров детекции для конкретных условий
- Интеграция с нейросетевыми моделями для повышения точности

Требования для запуска:
- OpenCV 4.x
- Файлы каскадов Хаара в рабочей директории
- Видеофайл `video.mp4`
